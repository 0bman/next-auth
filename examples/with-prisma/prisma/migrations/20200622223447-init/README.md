# Migration `20200622223447-init`

This migration has been generated by Fredrik Pettersen at 6/22/2020, 10:34:47 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."User" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"email" TEXT NOT NULL  ,"emailVerified" DATE   ,"id" TEXT NOT NULL  ,"image" TEXT   ,"name" TEXT   ,"updatedAt" DATE NOT NULL  ,
    PRIMARY KEY ("id"))

CREATE TABLE "quaint"."Session" (
"accessToken" TEXT NOT NULL  ,"accessTokenExpires" DATE   ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"expires" DATE   ,"id" TEXT NOT NULL  ,"sessionToken" TEXT NOT NULL  ,"updatedAt" DATE NOT NULL  ,"userId" TEXT NOT NULL  ,
    PRIMARY KEY ("id"),FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE)

CREATE TABLE "quaint"."Account" (
"accessToken" TEXT   ,"accessTokenExpires" DATE   ,"compoundId" TEXT NOT NULL  ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"id" TEXT NOT NULL  ,"providerAccountId" TEXT NOT NULL  ,"providerId" TEXT NOT NULL  ,"providerType" TEXT NOT NULL  ,"refreshToken" TEXT   ,"updatedAt" DATE NOT NULL  ,"userId" TEXT NOT NULL  ,
    PRIMARY KEY ("id"),FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE)

CREATE TABLE "quaint"."VerificationRequest" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"expires" DATE NOT NULL  ,"id" TEXT NOT NULL  ,"identifier" TEXT NOT NULL  ,"token" TEXT NOT NULL  ,"updatedAt" DATE NOT NULL  ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "quaint"."User.email" ON "User"("email")

CREATE UNIQUE INDEX "quaint"."Session.accessToken" ON "Session"("accessToken")

CREATE UNIQUE INDEX "quaint"."Session.sessionToken" ON "Session"("sessionToken")

CREATE UNIQUE INDEX "quaint"."Account.compoundId" ON "Account"("compoundId")

CREATE UNIQUE INDEX "quaint"."Account.providerAccountId" ON "Account"("providerAccountId")

CREATE UNIQUE INDEX "quaint"."VerificationRequest.token" ON "VerificationRequest"("token")

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200622223447-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,56 @@
+datasource sqlite {
+  provider = "sqlite"
+  url      = "file:./dev.db"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model User {
+  id            String    @default(uuid()) @id
+  email         String    @unique
+  emailVerified DateTime?
+  image         String?
+  name          String?
+  sessions      Session[]
+  accounts      Account[]
+  createdAt     DateTime  @default(now())
+  updatedAt     DateTime  @updatedAt
+}
+
+model Session {
+  id                 String    @default(uuid()) @id
+  userId             String
+  user               User      @relation(fields: [userId], references: [id])
+  accessToken        String    @default(cuid()) @unique
+  sessionToken       String    @default(cuid()) @unique
+  accessTokenExpires DateTime?
+  expires            DateTime?
+  createdAt          DateTime  @default(now())
+  updatedAt          DateTime  @updatedAt
+}
+
+model Account {
+  id                 String    @default(uuid()) @id
+  compoundId         String    @unique
+  userId             String
+  user               User      @relation(fields: [userId], references: [id])
+  providerId         String
+  providerType       String
+  providerAccountId  String    @unique
+  refreshToken       String?
+  accessToken        String?
+  accessTokenExpires DateTime?
+  createdAt          DateTime  @default(now())
+  updatedAt          DateTime  @updatedAt
+}
+
+model VerificationRequest {
+  id         String   @default(uuid()) @id
+  identifier String
+  token      String   @unique
+  expires    DateTime
+  createdAt  DateTime @default(now())
+  updatedAt  DateTime @updatedAt
+}
```


